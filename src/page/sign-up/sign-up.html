<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <title>会议报名</title>
    <link rel="stylesheet" href="../../css/lib/icheck/skins/all.css">
    <link rel="stylesheet" type="" href="../../css/style.css">
</head>

<body>
    <section class="main-cantainer">
        <div class='form-main' id='sign-main'>
            <form action="sign-up-success.html" id="sign_up_main">
                <!--会议厅ID-->
                <input type="hidden" name='meethallId' v-model="meetroomInfo.hallId">
                <!--主会议ID-->
                <input type="hidden" name='meetingId' v-model="selcetmeeInfo.meeId">
                <!--用户ID-->
                <input type="hidden" name='userId' v-model='userInfo.userId'>
                <div class='basic-info' v-show="formBox.basic">
                    <div class="form-title">
                        </span>会议报名</div>
                    <div class="form-group">
                        <label for="realName" class="floatl">姓名:</label>
                        <input type="text" class='form-input floatr' v-model="userInfo.realName" name="realName" id="realName" placeholder="请输入姓名">
                    </div>
                    <div class="form-group">
                        <label for="sex" class="floatl">姓别:</label>
                        <span class="floatr arrowImg"><img src="../../css/img/list_arrow.png" alt=""></span>
                        <select class='form-input floatr' v-model="userInfo.sex | select" name="sex" id="sex">
                            <option value="0">请选择</option>
                            <option value="1">男</option>
                            <option value="2">女</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="phone" class="floatl">手机:</label>
                        <input type="tel" class='form-input floatr' id="phone" v-model="userInfo.phone" placeholder="请输入手机">
                    </div>
                    <div class="form-group">
                        <label for="userName" class="floatl">邮箱:</label>
                        <input type="email" class='form-input floatr' name="email" id="email" placeholder="请输入邮箱">
                    </div>
                    <div class="form-group">
                        <label for="unit" class="floatl">单位:</label>
                        <span class="floatr arrowImg"><img src="../../css/img/list_arrow.png" alt=""></span>
                        <select class='form-input floatr' id="unit">
                             <option value="0">请选择</option>
                     <option value="1">单位一</option>
                     <option value="2">单位二</option>
                 </select>
                    </div>
                    <div class="form-group">
                        <label for="dentity" class="floatl">身份:</label>
                        <span class="floatr arrowImg"><img src="../../css/img/list_arrow.png" alt=""></span>
                        <select class='form-input floatr' id="dentity">
                             <option value="0">请选择</option>
                     <option value="1">教师</option>
                     <option value="2">校长</option>
                 </select>
                    </div>
                    <div class="form-group">
                        <label for="province" class="floatl">职务:</label>
                        <span class="floatr arrowImg"><img src="../../css/img/list_arrow.png" alt=""></span>
                        <select class='form-input floatr' id="province">
                             <option value="0">请选择</option>
                     <option value="1">校级正职</option>
                     <option value="2">校级副职</option>
                 </select>
                    </div>
                    <div class="form-group">
                        <label for="dietId" class="floatl">饮食:</label>
                        <span class="floatr arrowImg"><img src="../../css/img/list_arrow.png" alt=""></span>
                        <select class='form-input floatr' name="dietId" id="dietId">
                             <option value="0" selected>请选择</option>
                     <option value="1">清真</option>
                     <option value="2">非清真</option>
                 </select>
                    </div>
                    <hr class="form-hr">
                    <div class="form-group">
                        <label class="floatl">酒店:</label>
                        <span class="floatr arrowImg"><img src="../../css/img/list_arrow.png" alt=""></span>
                        <select class='form-input floatr' id="hotel">
                     <option value="0">请选择</option>
                     <option value="1">上海假日</option>
                     <option value="2">七天连锁</option>
                 </select>
                    </div>
                    <div class="form-group js-tiket" @click="selectTiket">
                        <label class="floatl">发票信息:</label>
                        <span class="floatr arrowImg"><img src="../../css/img/list_arrow.png" alt=""></span>
                        <span class='floatr form-text'>{{itemText.tiketTxt}}</span>
                    </div>
                    <hr class="form-hr">
                    <div class="form-group" v-if="chmeetBtn" @click="selectMeet">
                        <label class="floatl">分论坛选择</label>
                        <span class="floatr arrowImg"><img src="../../css/img/list_arrow.png" alt=""></span>
                        <span class='floatr form-text'>{{itemText.meetTxt}}</span>
                    </div>
                    <hr class="form-hr">
                    <div class="form-group" @click="selectRemark">
                        <label class="floatl">备注:</label>
                        <span class="floatr arrowImg"><img src="../../css/img/list_arrow.png" alt=""></span>
                        <span class='floatr form-text'>{{itemText.remarkTxt}}</span>
                    </div>
                    <hr class="form-hr">
                    <hr class="form-hr">
                    <hr class="form-hr">
                    <button type='button' @click="formSubmit" class='btm-btn'>提交报名</button>
                </div>
                <div class="js-tiket-info" v-show="formBox.tiket">
                    <div class="form-title"><span @click="saveTiket" class="backBasic-btn"><img src="../../css/img/title_arrow_back.png" alt=""></span>发票信息</div>
                    <div class="form-group">
                        <label for="userName" class="floatl">发票抬头:</label>
                        <input type="text" class='form-input floatr' id="" placeholder="请输入">
                    </div>
                    <div class="form-group">
                        <label for="userName" class="floatl">识别号:</label>
                        <input type="text" class='form-input floatr' id="" placeholder="请输入">
                    </div>
                    <div class="form-group">
                        <label for="userName" class="floatl">开户地址:</label>
                        <input type="text" class='form-input floatr' id="" placeholder="请输入">
                    </div>
                    <div class="form-group">
                        <label for="userName" class="floatl">开户行:</label>
                        <input type="text" class='form-input floatr' id="" placeholder="请输入">
                    </div>
                    <div class="form-group">
                        <label for="userName" class="floatl">开户账号:</label>
                        <input type="text" class='form-input floatr' id="" placeholder="请输入">
                    </div>
                    <div class='btn-box'>
                        <button type="button" class="form-btn cancel-btn" @click='saveTiket'>保存</button>
                    </div>
                </div>
                <div class="js-meetlist-info" v-show="formBox.meetlist">
                    <!--<div class="form-group meet-group ">
                        <p class="submeet-name">分论坛一</p>
                        <div class="submeet-info">
                            <div class="time-item floatl">
                                <span><img src="../../css/img/clock.png" alt=""></span>
                                <time>2016/06/24</time>
                            </div>
                            <div class='checkbox-item floatr'>
                                参加<input type="checkbox" name="submeetingId">
                            </div>
                        </div>
                    </div><-->
                    <div class="form-title"><span @click="saveMeet" class="backBasic-btn"><img src="../../css/img/title_arrow_back.png" alt=""></span>已选择分会议
                        <span class='floatr add-icon js-addChmeet'>+&nbsp;&nbsp;</span>
                    </div>
                    <ul class="selectChmeet">
                        <p class="noinfo mgt2" hidden><i><img src="../../css/img/no-meetRoom.png" alt=""></i>您还没有选择分论坛</p>
                    </ul>
                    <div class='btn-box'>
                        <button type="button" class="form-btn cancel-btn" @click='saveMeet'>保存</button>
                    </div>
                </div>
                <!--<div class="js-meetlist-info" v-show="formBox.meetlist">
                    <div class="form-group meet-group " v-for="item in meetInfo.list">
                        <p class="submeet-name">{{item.meeName}}</p>
                        <div class="submeet-info">
                            <div class="time-item floatl">
                                <span><img src="../../css/img/clock.png" alt=""></span>
                                <time>{{item.meeTime}}</time>
                            </div>
                            <div class='checkbox-item floatr'>
                                参加<input type="checkbox" name="submeetingId" v-bind:value="item.meeId">
                            </div>
                        </div>
                    </div>
                    
                    <div class='btn-box'>
                        <button type="button" class="form-btn cancel-btn" @click='saveMeet'>保存</button>
                    </div>
                </div>-->
                <div class="js-remark-info" v-show="formBox.remark">
                    <div class="form-title"><span @click="saveRemark" class="backBasic-btn"><img src="../../css/img/title_arrow_back.png" alt=""></span>备注</div>
                    <div class="form-textarea">
                        <textarea id='remarks_box' name="disp" placeholder="你想说点什么" value="" maxlength="200" @input="remarkNum"></textarea>
                        <div class="textarea_counter"><span id="text-num">0</span>/200</div>
                    </div>
                    <div class='btn-box'>
                        <button type="button" class="form-btn cancel-btn" @click='saveRemark'>保存</button>
                    </div>
                </div>
            </form>
        </div>
        </div>
    </section>
    <div class="modal-main" id="chmeet-modal" hidden>
        <div class="modal-bg"></div>
        <div class="modal-contant modal-lg">
            <div class="modal-header">
                分论坛信息
            </div>
            <div class="modal-body">
                <p class="modal-list-title">上午会议</p>
                <div class="item" data-chmeetId="1">
                    <p class="title">马克思里列宁主义好</p>
                    <time class="time"><i><img src="../../css/img/clock.png" alt=""></i>8月12日</time>
                </div>
                <div class="item" data-chmeetId="2">
                    <p class="title">共产主义好</p>
                    <time class="time"><i><img src="../../css/img/clock.png" alt=""></i>8月12日</time>
                </div>
                <div class="item" data-chmeetId="3">
                    <p class="title">祖国繁荣昌盛</p>
                    <time class="time"><i><img src="../../css/img/clock.png" alt=""></i>8月12日</time>
                </div>
                 <p class="modal-list-title">下午会议</p>
                <div class="item" data-chmeetId="4">
                    <p class="title">JetBrains WebStorm</p>
                    <time class="time"><i><img src="../../css/img/clock.png" alt=""></i>8月12日</time>
                </div>
                <div class="item" data-chmeetId="5">
                    <p class="title">Mozilla Firefox</p>
                    <time class="time"><i><img src="../../css/img/clock.png" alt=""></i>8月12日</time>
                </div>
                <div class="item" data-chmeetId="6">
                    <p class="title">Google Chrome</p>
                    <time class="time"><i><img src="../../css/img/clock.png" alt=""></i>8月12日</time>
                </div>
            </div>
        </div>
    </div>
    <script src="../../js/lib/jquery.js"></script>
    <script src="../../js/common.js"></script>
    <script src="../../js/plug/plug-form.js"></script>
    <script src="../../js/plug/httpPath.js"></script>
    <script src="../../js/lib/icheck.min.js"></script>
    <script src="../../js/lib/vue-1.0.28.js"></script>
    <script src="../../js/signUp.js"></script>
    <script>
        $('input').iCheck({
            checkboxClass: 'icheckbox_flat-red',
            radioClass: 'iradio_flat-red'
        });
        $(function () {
            var chmeet = {
                chmeetId: "",
                init: function () {
                    this.addchmeet();
                    this.selectChmeet();
                    this.removeChmeet();
                    this.begain();
                },
                addchmeet: function () {
                    $(".js-addChmeet").on("click", function () {
                        $("#chmeet-modal").show();
                    })
                },
                selectChmeet: function () {
                    var _this = this;
                    $(".modal-body").on("click", ".item", function () {
                        var judge = true;
                        var nowId = $(this).attr("data-chmeetId");
                        var selectChmeetList = $(".selectChmeet li");
                        for (var i = 0; i < selectChmeetList.length; i++) {
                            if ($(selectChmeetList[i]).attr("data-chmeetid") == nowId) {
                                judge = false;
                                break;
                            } else {
                                judge = true;
                            }
                        }
                        if (judge) {
                            _this.chmeetId = $(this).attr("data-chmeetId");
                            _this.chmeetName = $(this).find(".title").text();
                            _this.chmeetTime = $(this).find(".time").text();
                            var newitem = " <li class='chmeet-item' data-chmeetId=" + _this.chmeetId +
                                ">" +
                                "<div class='chmeet-info floatl'><span class=name'>" + _this.chmeetName +
                                "</span><span class='time'>" + _this.chmeetTime +
                                "</span></div>" +
                                "<span class='floatr remove-btn js-remove-chmeet'><img src='../../css/img/edit_icon_delete.png' ></span>" +
                                "</li>";
                            $(".selectChmeet").append(newitem);
                            $("#chmeet-modal").hide();
                            $(".noinfo").hide();
                        } else {
                            $("#chmeet-modal").hide();
                            $.prompt("您已经选择过该分会议了");
                        }

                    })
                },
                removeChmeet: function () {
                    var _this = this;
                    $(".selectChmeet").on("click", ".js-remove-chmeet", function () {
                        $(this).parents("li").remove();
                        if (_this.selectedNum() == 0) {
                            $(".noinfo").show();
                        }
                    })
                },
                selectedNum: function () {
                    var num = $(".selectChmeet").find("li").size();
                    return num;
                },
                begain: function () {
                    if (this.selectedNum() == 0) {
                        $(".noinfo").show();
                    }
                }

            }
            chmeet.init();
        })
    </script>
</body>

</html>